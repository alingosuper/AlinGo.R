<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlinGo | Ø³ÛŒÙ„Ø± Ù¾ÛŒÙ†Ù„</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <img src="/public/logo.png" alt="Logo" class="app-logo">
            <h2 class="glow-text">Ù†Ø¦ÛŒ Ù¾Ø±ÙˆÚˆÚ©Ù¹ Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</h2>
        </header>

        <form id="seller-form" class="login-container">
            <div class="input-group">
                <input type="text" id="p-name" placeholder="Ù¾Ø±ÙˆÚˆÚ©Ù¹ Ú©Ø§ Ù†Ø§Ù…" required>
            </div>
            <div class="input-group">
                <input type="number" id="p-price" placeholder="Ù‚ÛŒÙ…Øª (Rs)" required>
            </div>
            <div class="input-group">
                <input type="text" id="p-img" placeholder="ØªØµÙˆÛŒØ± Ú©Ø§ Ù„Ù†Ú© (URL)">
            </div>
            <textarea id="p-desc" class="input-group" style="height:100px; padding:10px; color:white;" placeholder="Ù¾Ø±ÙˆÚˆÚ©Ù¹ Ú©ÛŒ ØªÙØµÛŒÙ„"></textarea>
            
            <button type="submit" class="btn">Ù…Ø§Ø±Ú©ÛŒÙ¹ Ù…ÛŒÚº Ù„Ø§Ø¦ÛŒÙˆ Ú©Ø±ÛŒÚº ğŸš€</button>
        </form>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

        // Ø¢Ù¾ Ú©ÛŒ Firebase Config
        const firebaseConfig = { /* ... ÙˆÛÛŒ Ù¾Ø±Ø§Ù†ÛŒ Ú©ÛŒØ² ... */ };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        document.getElementById('seller-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.innerText = "Ø§Ù¾Ù„ÙˆÚˆÙ†Ú¯...";

            try {
                await addDoc(collection(db, "products"), {
                    name: document.getElementById('p-name').value,
                    price: document.getElementById('p-price').value,
                    image: document.getElementById('p-img').value || "/public/logo.png",
                    description: document.getElementById('p-desc').value,
                    createdAt: Date.now()
                });
                alert("Ù¾Ø±ÙˆÚˆÚ©Ù¹ Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø´Ø§Ù…Ù„ ÛÙˆÚ¯Ø¦ÛŒ!");
                window.location.href = "index.html";
            } catch (error) {
                alert("Ø®Ø±Ø§Ø¨ÛŒ: " + error.message);
            }
        });
    </script>
</body>
</html>
