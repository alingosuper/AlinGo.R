<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | AlinGo</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="login-container" style="padding: 20px; text-align: center; margin-top: 50px;">
        <img src="/logo.png" class="app-logo" style="width: 100px;">
        <h2 class="glow-text">Welcome Back</h2>
        
        <div id="otp-section">
            <input type="tel" id="phone" placeholder="Enter Phone Number" style="width: 90%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid var(--neon-green); background: #111; color: white;">
            <button class="btn" onclick="sendOTP()">Send OTP</button>
        </div>

        <div id="verify-section" style="display: none;">
            <input type="number" id="otp-code" placeholder="Enter 6-Digit OTP" style="width: 90%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid var(--neon-green); background: #111; color: white;">
            <button class="btn" onclick="verifyOTP()">Verify & Login</button>
        </div>
    </div>

    <script>
        async function sendOTP() {
            const phone = document.getElementById('phone').value;
            if(!phone) return alert("Please enter phone number");
            
            const res = await fetch('/api/send-otp', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ phone })
            });
            const data = await res.json();
            if(data.success) {
                alert("Demo OTP: " + data.otp);
                document.getElementById('otp-section').style.display = 'none';
                document.getElementById('verify-section').style.display = 'block';
            }
        }

        function verifyOTP() {
            // Simple simulation for now
            alert("Login Successful!");
            location.href = 'index.html';
        }
    </script>
</body>
</html>
